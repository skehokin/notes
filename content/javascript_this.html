<!doctype html>
<html>
<head>
<title> Web Dev Notes - JS this</title>

<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../notes.css" rel="stylesheet">

</head>
<body>
<header>
	<h1 class="page-head">
		Web Dev Notes - "this" in JavaScript
	</h1>
</header>
<main class="summary">
<header>
<h2 class="summary-head"> Summary:</h2>
<p>"this" is a keyword in JavaScript which refers to the object initiating a function.</p>
</header>
<article>
<h3>An easy way to figure "this" out</h3>

<p>
	"this", when used as a keyword in a function, is bound to the object initiating that function. So, when you call <i>myObject.func</i>, "this" refers to the object before the dot.
</p>

<p>To explain:</p>

<p>
	When you call a function, often that function will be a property (or "method") of an object. (These can be either built into the datatype or added by an API, library or yourself).
</p>
<p>
	For instance when you call:
	<pre>document.getElementById("main-heading").setAttribute("class", "capslock");</pre>
	setAttribute is a method of Elements, from which the "main-heading" HTML element inherits, and hence a method of "main-heading" itself.
</p>
<p>
 	So, that's a method.
</p>
<p>
	In the above example, if the "this" keyword was used in the setAttribute() function, then what would "this" refer to?
</p>
<p>
	Answer: "this" would refer to the HTML element with the id of "main-heading", because "this" refers back to the object that is initiating the function. Meaning, it refers to whatever is written before the dot:
	<pre>document.getElementById("main-heading")</pre>
</p>

</article>
<article>
<h3>What if it's not a method? What if there's nothing before the dot?</h3>
<p>If the function is defined in the global scope and therefore outside of any function, then "this" is bound to the global object(!)</p>
</article>

<article>
<h3>Being cautious with "this"</h3>
<p>When you pass a function with "this" as a parameter into another function (such as a callback function), "this" can behave in unexpected ways. This is because even if you pass it in with dot notation, as a method, it may be run quite differently by the new function. It may be bound to the global object, or may even (theoretically) be a method for a different object. </p>

<p> To prevent this from happening, you would want to call your this-containing-function inside another function. It is then the outer function which is passed to the call-back function. </p>
</article>

<article>
	<h3>
		The keyword "new"
	</h3>
	<p>
		<pre>new r.method(g,b)</pre>
		"this" is changed by the use of the keyword new. How?
	</p>
	<p>
		In this case, "this" is bound to a new object, which is created automatically by the function. Presumably this syntax allows for OOP-like functions where instances of classes can be created.
	</p>
</article>
</main>
<footer>
<a href="../main.html">Return Home</a>
</footer>

<!-- <script src="../notes.js"> -->
<!-- </script> -->
</body>
</html>